<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Поддержать проект - Okkura-тян</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
		/>
		<link rel="stylesheet" href="css/styles.css" />
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap');
			body {
				font-family: 'Comfortaa', sans-serif;
			}
			.fade-in {
				animation: fadeIn 1.2s ease-in-out;
			}
			@keyframes fadeIn {
				from {
					opacity: 0;
					transform: translateY(10px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}
			.tooltip:hover::after {
				content: attr(data-tooltip);
				position: absolute;
				top: -1.75rem;
				left: 50%;
				transform: translateX(-50%);
				background: rgba(0, 0, 0, 0.7);
				color: white;
				padding: 0.25rem 0.5rem;
				border-radius: 0.375rem;
				font-size: 0.75rem;
				white-space: nowrap;
				z-index: 10;
			}
		</style>
	</head>
	<body
		class="bg-gradient-to-br from-pink-200 via-purple-200 to-pink-300 text-purple-900"
	>
		<!-- Header -->
		<header
			class="fixed top-0 w-full bg-white/80 backdrop-blur-sm z-50 shadow-sm"
		>
			<nav class="container mx-auto px-4 py-4">
				<div class="flex justify-between items-center">
					<a
						href="index.html"
						class="text-2xl font-bold text-purple-700 hover:text-pink-500 transition"
					>
						Okkura-тян
					</a>
					<!-- Навигация -->
					<div class="hidden md:flex space-x-6 text-gray-700 items-center">
						<a href="chat.html" class="hover:text-purple-500 transition">Чат</a>
						<a href="news.html" class="hover:text-purple-500 transition"
							>Новости</a
						>
						<a href="about.html" class="hover:text-purple-500 transition"
							>О нас</a
						>
						<a href="support.html" class="hover:text-purple-500 transition"
							>Поддержка</a
						>
						<a href="contacts.html" class="hover:text-purple-500 transition"
							>Контакты</a
						>
						<a href="donate.html" class="hover:text-purple-500 transition"
							>Донаты</a
						>
						<a href="lore.html" class="hover:text-purple-500 transition">Лор</a>

						<!-- До авторизации -->
						<a
							href="auth.html"
							id="login-link"
							class="hover:text-purple-500 transition"
							>Вход</a
						>

						<!-- После авторизации -->
						<a
							href="profile.html"
							id="profile-link"
							class="hover:text-purple-500 transition hidden"
						>
							<i class="fas fa-user-circle mr-1"></i> Профиль
						</a>
						<button
							id="logout-link"
							onclick="logout()"
							class="hover:text-purple-500 transition hidden"
						>
							Выйти
						</button>
					</div>

					<button class="md:hidden text-2xl text-purple-700">
						<i class="fas fa-bars"></i>
					</button>
				</div>
			</nav>
		</header>

		<!-- Main Content -->
		<main class="pt-24 pb-20 fade-in">
			<div class="container mx-auto px-4">
				<!-- Заголовок -->
				<section class="text-center mb-16">
					<h1
						class="text-5xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-600 text-transparent bg-clip-text"
					>
						Поддержите Okkura-тян
					</h1>
					<p class="text-lg text-purple-800 max-w-2xl mx-auto">
						Ваша поддержка помогает нам развивать проект и делать Okkura-тян ещё
						лучше!
					</p>
				</section>

				<!-- Подписки -->
				<section class="mb-20">
					<h2 class="text-3xl font-bold mb-10 text-center">
						Варианты подписки
					</h2>
					<div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
						<!-- Basic -->
						<div
							class="bg-white/70 backdrop-blur-lg p-6 rounded-2xl shadow-lg hover:scale-105 transition"
						>
							<h3 class="text-2xl font-bold text-center mb-2">Базовый</h3>
							<div class="text-center text-4xl font-bold mb-4">
								299₽<span class="text-base text-purple-400"> / месяц</span>
							</div>
							<ul class="text-purple-800 space-y-2 mb-6">
								<li>✅ Timeout проходит быстрее</li>
								<li>✅ Базовые эмоции</li>
								<li>✅ Приоритетная поддержка</li>
								<li>✅ Выдача роли филантропа</li>
							</ul>
							<button
								class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-full transition"
							>
								Выбрать план
							</button>
						</div>

						<!-- Premium -->
						<div
							class="bg-gradient-to-br from-purple-400 to-pink-400 p-6 rounded-2xl shadow-2xl scale-105 transition"
						>
							<h3 class="text-2xl font-bold text-center mb-2 text-white">
								Премиум
							</h3>
							<div class="text-center text-4xl font-bold mb-4 text-white">
								599₽<span class="text-base text-purple-100"> / месяц</span>
							</div>
							<ul class="text-white space-y-2 mb-6">
								<li>✅ Всё из базового</li>
								<li>✅ Расширенные эмоции</li>
								<li>✅ Эксклюзивные темы</li>
								<li>✅ Ранний доступ</li>
							</ul>
							<button
								class="w-full bg-white text-purple-700 hover:bg-gray-100 py-3 rounded-full transition"
							>
								Выбрать план
							</button>
						</div>

						<!-- Ultimate -->
						<div
							class="bg-white/70 backdrop-blur-lg p-6 rounded-2xl shadow-lg hover:scale-105 transition"
						>
							<h3 class="text-2xl font-bold text-center mb-2">Ультимативный</h3>
							<div class="text-center text-4xl font-bold mb-4">
								999₽<span class="text-base text-purple-400"> / месяц</span>
							</div>
							<ul class="text-purple-800 space-y-2 mb-6">
								<li>✅ Всё из Премиум</li>
								<li>✅ Персональная кастомизация</li>
								<li>✅ VIP поддержка 24/7</li>
								<li>✅ Эксклюзивные бонусы</li>
							</ul>
							<button
								class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-full transition"
							>
								Выбрать план
							</button>
						</div>
					</div>
				</section>

				<!-- Разовое пожертвование -->
				<section class="mb-20">
					<h2 class="text-3xl font-bold mb-8 text-center">
						Разовое пожертвование
					</h2>

					<div
						class="max-w-2xl mx-auto bg-white/60 backdrop-blur-md p-6 rounded-xl shadow-lg"
					>
						<!-- Быстрые суммы -->
						<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
							<button
								class="bg-white/80 hover:bg-purple-100 text-purple-700 font-semibold py-3 rounded-lg transition w-full"
							>
								100₽
							</button>
							<button
								class="bg-white/80 hover:bg-purple-100 text-purple-700 font-semibold py-3 rounded-lg transition w-full"
							>
								500₽
							</button>
							<button
								class="bg-white/80 hover:bg-purple-100 text-purple-700 font-semibold py-3 rounded-lg transition w-full"
							>
								1000₽
							</button>
							<button
								class="bg-white/80 hover:bg-purple-100 text-purple-700 font-semibold py-3 rounded-lg transition w-full"
							>
								Другая сумма
							</button>
						</div>

						<!-- Ввод суммы, метод и сообщение -->
						<div class="flex flex-col items-center space-y-4">
							<input
								id="donate-amount"
								type="number"
								placeholder="Введите сумму (₽)"
								class="px-4 py-2 rounded-lg border border-purple-300 w-full max-w-sm text-center"
							/>

							<!-- Методы -->
							<div class="flex justify-center flex-wrap gap-6">
								<label class="flex items-center gap-2">
									<input
										type="radio"
										name="donate-method"
										value="Visa"
										checked
									/>
									<span class="text-purple-800">Visa</span>
								</label>
								<label class="flex items-center gap-2">
									<input type="radio" name="donate-method" value="PayPal" />
									<span class="text-purple-800">PayPal</span>
								</label>
								<label class="flex items-center gap-2">
									<input type="radio" name="donate-method" value="Bitcoin" />
									<span class="text-purple-800">Bitcoin</span>
								</label>
							</div>

							<textarea
								id="donate-message"
								rows="3"
								placeholder="Сообщение для Okkura-тян"
								class="px-4 py-2 rounded-lg border border-purple-300 w-full max-w-md block"
							></textarea>

							<button
								onclick="sendDonation()"
								class="bg-purple-500 hover:bg-purple-600 text-white font-semibold px-6 py-2 rounded-full transition"
							>
								Отправить донат
							</button>

							<p id="donate-status" class="mt-2 text-center text-sm"></p>
						</div>

						<!-- Иконки платёжных систем -->
						<div class="flex justify-center mt-8 gap-4 flex-wrap">
							<button
								class="tooltip relative bg-purple-100 hover:bg-purple-200 p-4 rounded-full transition"
								data-tooltip="Visa"
							>
								<i class="fab fa-cc-visa text-2xl text-purple-800"></i>
							</button>
							<button
								class="tooltip relative bg-purple-100 hover:bg-purple-200 p-4 rounded-full transition"
								data-tooltip="Mastercard"
							>
								<i class="fab fa-cc-mastercard text-2xl text-purple-800"></i>
							</button>
							<button
								class="tooltip relative bg-purple-100 hover:bg-purple-200 p-4 rounded-full transition"
								data-tooltip="PayPal"
							>
								<i class="fab fa-cc-paypal text-2xl text-purple-800"></i>
							</button>
							<button
								class="tooltip relative bg-purple-100 hover:bg-purple-200 p-4 rounded-full transition"
								data-tooltip="Bitcoin"
							>
								<i class="fab fa-bitcoin text-2xl text-purple-800"></i>
							</button>
						</div>
					</div>
				</section>

				<!-- Топ донатеры -->
				<section>
					<h2 class="text-3xl font-bold mb-8 text-center">Топ донатеров</h2>
					<div
						class="max-w-2xl mx-auto bg-white/60 backdrop-blur-md p-6 rounded-xl shadow-md space-y-4"
					>
						<div class="flex items-center justify-between">
							<div class="flex items-center space-x-3">
								<div
									class="w-10 h-10 bg-purple-300 rounded-full flex items-center justify-center"
								>
									<i class="fas fa-crown text-purple-800"></i>
								</div>
								<span class="text-purple-700">Анонимный пользователь</span>
							</div>
							<span class="text-purple-800 font-bold">10,000₽</span>
						</div>
						<div class="flex items-center justify-between">
							<div class="flex items-center space-x-3">
								<div
									class="w-10 h-10 bg-purple-300 rounded-full flex items-center justify-center"
								>
									<i class="fas fa-medal text-purple-800"></i>
								</div>
								<span class="text-purple-700">Анонимный пользователь</span>
							</div>
							<span class="text-purple-800 font-bold">5,000₽</span>
						</div>
						<div class="flex items-center justify-between">
							<div class="flex items-center space-x-3">
								<div
									class="w-10 h-10 bg-purple-300 rounded-full flex items-center justify-center"
								>
									<i class="fas fa-award text-purple-800"></i>
								</div>
								<span class="text-purple-700">Анонимный пользователь</span>
							</div>
							<span class="text-purple-800 font-bold">2,500₽</span>
						</div>
					</div>
				</section>
			</div>
		</main>

		<!-- Footer -->
		<footer class="w-full bg-white/80 backdrop-blur-sm py-6 shadow-sm">
			<div
				class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center text-gray-600"
			>
				<p class="mb-4 md:mb-0">&copy; 2025 Okkura-тян. Все права защищены.</p>
				<div class="flex space-x-4 text-purple-600">
					<a href="#" class="hover:text-pink-500 transition"
						><i class="fab fa-discord text-2xl"></i
					></a>
					<a href="#" class="hover:text-pink-500 transition"
						><i class="fab fa-twitter text-2xl"></i
					></a>
					<a href="#" class="hover:text-pink-500 transition"
						><i class="fab fa-github text-2xl"></i
					></a>
				</div>
			</div>
		</footer>
		<script>
			// Установить сумму при клике по кнопке
			document.querySelectorAll('.grid button').forEach(btn => {
				btn.addEventListener('click', e => {
					const val = btn.textContent.trim()
					const input = document.getElementById('donate-amount')
					if (!isNaN(parseInt(val))) {
						input.value = parseInt(val)
					} else {
						input.value = ''
						input.placeholder = 'Введите сумму вручную'
					}
				})
			})

			// Отправка доната
			async function sendDonation() {
				const amount = parseFloat(
					document.getElementById('donate-amount').value
				)
				const method =
					document.querySelector('input[name="donate-method"]:checked')
						?.value || 'Manual'
				const message = document.getElementById('donate-message').value || ''

				const token = localStorage.getItem('token')
				const status = document.getElementById('donate-status')

				if (!token) {
					status.textContent = '❌ Вы не авторизованы'
					status.className = 'text-red-600 mt-4 text-center'
					return
				}

				try {
					const res = await fetch('http://localhost:8082/donate', {
						method: 'POST',
						headers: {
							'Content-Type': 'application/json',
							Authorization: `Bearer ${token}`,
						},
						body: JSON.stringify({ amount, method, message }),
					})

					const data = await res.json()

					if (res.status === 201) {
						status.textContent = '✅ Спасибо за поддержку!'
						status.className = 'text-green-600 mt-4 text-center'
					} else {
						status.textContent = `❌ Ошибка: ${
							data.error || 'Что-то пошло не так'
						}`
						status.className = 'text-red-600 mt-4 text-center'
					}
				} catch (err) {
					status.textContent = '❌ Ошибка подключения к серверу'
					status.className = 'text-red-600 mt-4 text-center'
				}
			}
		</script>

		<script src="js/main.js"></script>
	</body>
</html>
